2020-04-08 16:19:43,092-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:43,132-[INFO]-logger.py-get_mysql_info-日志信息:查询项目配置结果调用成功！[{'id': 0, 'name': '智能客服', 'version': 'V0.3.5', 'smtp': "{'mail_host':'smtp.citydo.com.cn','mail_user':'zentao@citydo.com.cn','mail_pass':'Zz123456','From':'zhanggh@citydo.com.cn','To':'Everboby','subject':'AI虚拟机器人接口自动化测试报告【V0.3.5】','MIMEText':'这是python接口自动框架邮件模块发送的接口自动化测试报告，详情见附件或查看在线报告。\\n测试报告仅体现某接口请求以及参数值验证情况！',}", 'project_url': 'https://testznkf.citydo.com.cn', 'dbconfig': "{'host':'rm-bp153srx1gt80tl1x2o.mysql.rds.aliyuncs.com','user':'sunbin','password':'Sunbin@123','port':3306,'database':'test_znkf'}", 'user_id': 0, 'addtime': datetime.datetime(2020, 3, 23, 19, 2, 34), 'status': 0, 'comment': '1'}]
2020-04-08 16:19:43,137-[INFO]-logger.py-readExcel-日志信息:用例执行模式（0全部执行，1指定接口，2区间接口）：1
2020-04-08 16:19:43,145-[INFO]-logger.py-readExcel-日志信息:配置用例列表：指定[309],区间[294, 410]
2020-04-08 16:19:43,148-[INFO]-logger.py-readExcel-日志信息:当前使用临时配置用例列表：[309]
2020-04-08 16:19:43,169-[INFO]-logger.py-readExcel-日志信息:开始处理数据库用例自动化格式！
2020-04-08 16:19:43,171-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:43,221-[INFO]-logger.py-get_mysql_info-日志信息:查询测试库用例结果调用成功！[{'id': 10, 'cases_name': '登录接口-成功', 'method': 'POST1', 'url': '/v1/staff/login', 'data': '{"username":"emhhbmcwMDE=","password":"MTIzNDU2","forceFlag":"true"}', 'sql': '{}', 'code': 'ok', 'actually': 'ok', 'sql_result': '', 'result': 'pass', 'msg': '', 'version': 'V0.3.5', 'models': '智能客服-测试版', 'user_id': 'admin', 'case_leader': 1, 'addtime': datetime.datetime(2020, 3, 26, 14, 42, 44), 'update_time': datetime.datetime(2020, 3, 26, 14, 42, 44), 'Environment': '智能客服', 'pass_num': 0, 'fail_num': 0, 'execute_count': 0, 'case_pass': 0.0, 'status': 0, 'comment': '1'}, {'id': 11, 'cases_name': '在线-事务小结-添加事务小结-成功', 'method': 'POST', 'url': '/v1/tenants/_1NTMWLA/addStaffSummaryAfterwards', 'data': '{ "staffId":"s_819aee8ed8554b9f82e8d6302c8d2411", "keywords":"测试","afterEvent":"这个是什么鬼"}', 'sql': '{}', 'code': 'ok', 'actually': 'ok', 'sql_result': '', 'result': 'pass', 'msg': "{'baseSuccess': True, 'httpStatusCode': 0, 'success': True}", 'version': 'V0.3.5', 'models': '智能客服-测试版', 'user_id': 'admin', 'case_leader': 1, 'addtime': datetime.datetime(2020, 3, 26, 14, 42, 44), 'update_time': datetime.datetime(2020, 3, 26, 14, 42, 44), 'Environment': '智能客服', 'pass_num': 0, 'fail_num': 0, 'execute_count': 0, 'case_pass': 0.0, 'status': 0, 'comment': '1'}]
2020-04-08 16:19:43,223-[INFO]-logger.py-readExcel-日志信息:------------版本全部用例集------------
2020-04-08 16:19:43,379-[INFO]-logger.py-Unit_test-日志信息:============我要开始测试了===============
2020-04-08 16:19:43,381-[INFO]-logger.py-Unit_test-日志信息:正在执行第10条用例
2020-04-08 16:19:43,381-[INFO]-logger.py-Unit_test-日志信息:当前请求内容_URL：https://testznkf.citydo.com.cn/v1/staff/login；method：POST1；data：{'username': 'emhhbmcwMDE=', 'password': 'MTIzNDU2', 'forceFlag': 'true'}；sql：{}
2020-04-08 16:19:43,943-[INFO]-logger.py-httpRequest-日志信息:客服登录请求返回：{'code': 'ok'}
2020-04-08 16:19:43,999-[INFO]-logger.py-httpRequest-日志信息:客服返回cookie：{'s_authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJzXzgxOWFlZThlZDg1NTRiOWY4MmU4ZDYzMDJjOGQyNDExIiwidGVuYW50SWQiOiJfMU5UTVdMQSIsImV4cCI6MTU4NjkzODc4NX0.EurW9HB8Ot1gGoj_CK-NNcNxROruPaY7LctS_cnQLWg'}
2020-04-08 16:19:44,091-[INFO]-logger.py-httpRequest-日志信息:客户返回cookie：{'v_authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJ2X2FfMzQ4ZWY0NDI0ZDYwNDgwMTliZDUwNGUyYjY5OTY3ZWUiLCJ0ZW5hbnRJZCI6Il8xTlRNV0xBIiwiZXhwIjoxNTg3ODA1MjE0fQ.ZsnSsNLFKOFyGKTDZBPWqkCwUyGHPHqmfKFyys81iEc', 'visitor_id': 'v_a_348ef4424d6048019bd504e2b69967ee'}
2020-04-08 16:19:44,093-[INFO]-logger.py-httpRequest-日志信息:当前客服headers配置：{'Host': '47.110.131.231', 'Connection': 'keep-alive', 'Origin': 'http://47.110.131.231', 'X-TraceId': 'c502d7c0-5c48-11ea-98c2-1b2105b568ad', 'Referer': 'http://47.110.131.231/customerService/SystemManagement/Online', 'Cookie': 's_authorization=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJzXzgxOWFlZThlZDg1NTRiOWY4MmU4ZDYzMDJjOGQyNDExIiwidGVuYW50SWQiOiJfMU5UTVdMQSIsImV4cCI6MTU4NjkzODc4NX0.EurW9HB8Ot1gGoj_CK-NNcNxROruPaY7LctS_cnQLWg'}
2020-04-08 16:19:44,094-[INFO]-logger.py-httpRequest-日志信息:当前客客户header配置：{'Host': '47.110.131.231', 'Connection': 'keep-alive', 'Origin': 'http://47.110.131.231', 'X-TraceId': 'b2486a20-a9d1-11e9-a2b4-5fa2b013c14c', 'Referer': 'http://47.110.131.231/customerService/SystemManagement/Online', 'Cookie': 'v_authorization=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJ2X2FfMzQ4ZWY0NDI0ZDYwNDgwMTliZDUwNGUyYjY5OTY3ZWUiLCJ0ZW5hbnRJZCI6Il8xTlRNV0xBIiwiZXhwIjoxNTg3ODA1MjE0fQ.ZsnSsNLFKOFyGKTDZBPWqkCwUyGHPHqmfKFyys81iEc'}
2020-04-08 16:19:44,095-[INFO]-logger.py-httpRequest-日志信息:现在开始进行post1请求
2020-04-08 16:19:44,153-[INFO]-logger.py-Unit_test-日志信息:用例code比对成功！实际返回：ok
2020-04-08 16:19:44,154-[INFO]-logger.py-Unit_test-日志信息:返回数据写入excel{'id': 10, 'actually': 'ok', 'result': 'pass'}
2020-04-08 16:19:44,155-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:44,156-[INFO]-logger.py-get_mysql_info-日志信息:写入sql语句记录！！！UPDATE testcase SET actually="ok",sql_result="",result="pass",msg="" where id=10
2020-04-08 16:19:44,157-[INFO]-logger.py-get_mysql_info-日志信息:写入sql数据记录！！！{'id': 10, 'actually': 'ok', 'result': 'pass', 'msg': '', 'sql_result': ''}
2020-04-08 16:19:44,191-[INFO]-logger.py-get_mysql_info-日志信息:sql写入统计测试记录成功！
2020-04-08 16:19:44,495-[INFO]-logger.py-Unit_test-日志信息:===============我要结束测试了！==================
2020-04-08 16:19:44,496-[INFO]-logger.py-Unit_test-日志信息:============我要开始测试了===============
2020-04-08 16:19:44,497-[INFO]-logger.py-Unit_test-日志信息:正在执行第11条用例
2020-04-08 16:19:44,498-[INFO]-logger.py-Unit_test-日志信息:当前请求内容_URL：https://testznkf.citydo.com.cn/v1/tenants/_1NTMWLA/addStaffSummaryAfterwards；method：POST；data：{'staffId': 's_819aee8ed8554b9f82e8d6302c8d2411', 'keywords': '测试', 'afterEvent': '这个是什么鬼'}；sql：{}
2020-04-08 16:19:44,581-[INFO]-logger.py-httpRequest-日志信息:客服登录请求返回：{'code': 'ok'}
2020-04-08 16:19:44,632-[INFO]-logger.py-httpRequest-日志信息:客服返回cookie：{'s_authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJzXzgxOWFlZThlZDg1NTRiOWY4MmU4ZDYzMDJjOGQyNDExIiwidGVuYW50SWQiOiJfMU5UTVdMQSIsImV4cCI6MTU4NjkzODc4Nn0.rcdlr61jAr2YqeW8JBCc8fwkhM-0oDUu4D9dhgV1jFc'}
2020-04-08 16:19:44,746-[INFO]-logger.py-httpRequest-日志信息:客户返回cookie：{'v_authorization': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJ2X2FfM2RlY2RiOTUzMDIyNGFjNGI0ZWRjY2Q0MDAyNTZmZGIiLCJ0ZW5hbnRJZCI6Il8xTlRNV0xBIiwiZXhwIjoxNTg3ODA1MjE1fQ.r35yNJpJK_vk7eFCW87ishfrxppplsjHzfEQH2EDaGk', 'visitor_id': 'v_a_3decdb9530224ac4b4edccd400256fdb'}
2020-04-08 16:19:44,754-[INFO]-logger.py-httpRequest-日志信息:当前客服headers配置：{'Host': '47.110.131.231', 'Connection': 'keep-alive', 'Origin': 'http://47.110.131.231', 'X-TraceId': 'c502d7c0-5c48-11ea-98c2-1b2105b568ad', 'Referer': 'http://47.110.131.231/customerService/SystemManagement/Online', 'Cookie': 's_authorization=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJzXzgxOWFlZThlZDg1NTRiOWY4MmU4ZDYzMDJjOGQyNDExIiwidGVuYW50SWQiOiJfMU5UTVdMQSIsImV4cCI6MTU4NjkzODc4Nn0.rcdlr61jAr2YqeW8JBCc8fwkhM-0oDUu4D9dhgV1jFc'}
2020-04-08 16:19:44,759-[INFO]-logger.py-httpRequest-日志信息:当前客客户header配置：{'Host': '47.110.131.231', 'Connection': 'keep-alive', 'Origin': 'http://47.110.131.231', 'X-TraceId': 'b2486a20-a9d1-11e9-a2b4-5fa2b013c14c', 'Referer': 'http://47.110.131.231/customerService/SystemManagement/Online', 'Cookie': 'v_authorization=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1aWQiOiJ2X2FfM2RlY2RiOTUzMDIyNGFjNGI0ZWRjY2Q0MDAyNTZmZGIiLCJ0ZW5hbnRJZCI6Il8xTlRNV0xBIiwiZXhwIjoxNTg3ODA1MjE1fQ.r35yNJpJK_vk7eFCW87ishfrxppplsjHzfEQH2EDaGk'}
2020-04-08 16:19:44,763-[INFO]-logger.py-httpRequest-日志信息:现在开始进行post请求
2020-04-08 16:19:44,837-[INFO]-logger.py-Unit_test-日志信息:接口返回data{'code': 'ok', 'data': {'baseSuccess': True, 'httpStatusCode': 0, 'success': True}}
2020-04-08 16:19:44,841-[INFO]-logger.py-Unit_test-日志信息:用例code比对成功！实际返回：ok
2020-04-08 16:19:44,845-[INFO]-logger.py-Unit_test-日志信息:返回数据写入excel{'id': 11, 'actually': 'ok', 'msg': {'baseSuccess': True, 'httpStatusCode': 0, 'success': True}, 'result': 'pass'}
2020-04-08 16:19:44,850-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:44,853-[INFO]-logger.py-get_mysql_info-日志信息:写入sql语句记录！！！UPDATE testcase SET actually="ok",sql_result="",result="pass",msg="{'baseSuccess': True, 'httpStatusCode': 0, 'success': True}" where id=11
2020-04-08 16:19:44,856-[INFO]-logger.py-get_mysql_info-日志信息:写入sql数据记录！！！{'id': 11, 'actually': 'ok', 'msg': {'baseSuccess': True, 'httpStatusCode': 0, 'success': True}, 'result': 'pass', 'sql_result': ''}
2020-04-08 16:19:44,891-[INFO]-logger.py-get_mysql_info-日志信息:sql写入统计测试记录成功！
2020-04-08 16:19:45,196-[INFO]-logger.py-Unit_test-日志信息:===============我要结束测试了！==================
2020-04-08 16:19:45,196-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:45,197-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:45,236-[INFO]-logger.py-get_mysql_info-日志信息:插入数据库sql拼接成功！INSERT INTO znkf (restult,sum,ok,fail,error,error_1,date) VALUES (%(restult)s,%(sum)s,%(ok)s,%(fail)s,%(error)s,%(error_1)s,%(date)s)
2020-04-08 16:19:45,277-[INFO]-logger.py-get_mysql_info-日志信息:sql写入统计测试记录成功！[{'restult': "{'testname': '质量保障部—章广华', 'time': '2020-04-08 16:19:43', 'sumtime': '0:00:01.818929', 'testresult': '共 2 条接口用例，通过 2 条', 'tonggl': '100.00%'}", 'sum': 2, 'ok': 2, 'fail': 0, 'error': 0, 'error_1': 0, 'date': '2020-04-08_16_19_43'}]
2020-04-08 16:19:45,279-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:45,319-[INFO]-logger.py-get_mysql_info-日志信息:测试结果数据库调用成功！
2020-04-08 16:19:45,323-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:45,352-[INFO]-logger.py-get_mysql_info-日志信息:测试结果数据库调用成功！
2020-04-08 16:19:45,353-[INFO]-logger.py-main-日志信息:获取表单内容成功：{'testname': '质量保障部—章广华', 'time': '2020-04-08 16:19:43', 'sumtime': '0:00:01.818929', 'testresult': '共 2 条接口用例，通过 2 条', 'tonggl': '100.00%'}
2020-04-08 16:19:45,542-[INFO]-logger.py-get_mysql_info-日志信息:本次数据库调用配置成功！
2020-04-08 16:19:45,543-[INFO]-logger.py-main-日志信息:本次Python接口自动化框架执行完毕！2020-04-08 16:19:45
